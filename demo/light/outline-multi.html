<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FrostUI SelectMenu</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/elusivecodes/frostui@latest/dist/frost-ui.css">
    <link rel="stylesheet" href="../../dist/frost-ui-selectmenu.css">
    <script src="https://cdn.jsdelivr.net/gh/elusivecodes/frostui@latest/dist/frost-ui-bundle.js"></script>
    <script src="../../dist/frost-ui-selectmenu.js"></script>
</head>

<body>
    <div class="container pt-5">
        <div class="mb-4">
            <label for="selectDefault">Default</label>
            <div class="form-input">
                <select class="input-outline" id="selectDefault" multiple>
                    <option value="1" selected>Option 1</option>
                    <option value="2" selected>Option 2</option>
                    <option value="3">Option 3</option>
                    <option value="4">Option 4</option>
                </select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectGroup">Group</label>
            <div class="form-input">
                <select class="input-outline" id="selectGroup" multiple>
                    <optgroup label="Group 1">
                        <option value="1" selected>Option 1</option>
                        <option value="2" selected>Option 2</option>
                    </optgroup>
                    <optgroup label="Group 2">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                    </optgroup>
                </select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectPlaceholder">Placeholder</label>
            <div class="form-input">
                <select class="input-outline" id="selectPlaceholder" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectArray">Data Array</label>
            <div class="form-input">
                <select class="input-outline" id="selectArray" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectQuery">Query</label>
            <div class="form-input">
                <select class="input-outline" id="selectQuery" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectSpinner">Loading Spinner</label>
            <div class="form-input">
                <select class="input-outline" id="selectSpinner" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectInfinite">Infinite Scrolling</label>
            <div class="form-input">
                <select class="input-outline" id="selectInfinite" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectRender">Rendering</label>
            <div class="form-input">
                <select class="input-outline" id="selectRender" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectMinLength">Minimum Search Length</label>
            <div class="form-input">
                <select class="input-outline" id="selectMinLength" data-ui-placeholder="Select an item" data-ui-min-search="3" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectMaxSelections">Maximum Selections</label>
            <div class="form-input">
                <select class="input-outline" id="selectMaxSelections" data-ui-placeholder="Select an item" data-ui-max-selections="3" multiple></select>
            </div>
        </div>
        <div class="mb-4">
            <label for="selectDisabled">Disabled</label>
            <div class="form-input">
                <select class="input-outline" id="selectDisabled" data-ui-placeholder="Select an item" multiple disabled></select>
            </div>
        </div>
        <h4>Disabled Options</h4>
        <div class="mb-4">
            <label for="selectDisabledOptions">Disabled Options</label>
            <div class="form-input">
                <select class="input-outline" id="selectDisabledOptions" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>
        <h4>Diacratics</h4>
        <div class="mb-4">
            <label for="selectDiacratics">Diacratics</label>
            <div class="form-input">
                <select class="input-outline" id="selectDiacratics" data-ui-placeholder="Select an item" multiple></select>
            </div>
        </div>

        <h4>Modal</h4>
        <div class="mb-4">
            <button class="btn btn-primary ripple" data-ui-toggle="modal" data-ui-target="#modal" type="button">Open Modal</button>
        </div>
        <div class="modal" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content shadow">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle">Modal title</h5>
                        <button class="btn-close" data-ui-dismiss="modal" type="button" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <label for="selectModal">Default</label>
                        <div class="form-input">
                            <select class="input-outline" id="selectModal" multiple>
                                <option value="1">Option 1</option>
                                <option value="2">Option 2</option>
                                <option value="3">Option 3</option>
                                <option value="4">Option 4</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success ripple mb-0" data-ui-dismiss="modal" type="button">Save</button>
                        <button class="btn btn-secondary ripple mb-0" data-ui-dismiss="modal" type="button">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const selectDefault = $.findOne('#selectDefault');
        const selectGroup = $.findOne('#selectGroup');
        const selectPlaceholder = $.findOne('#selectPlaceholder');
        const selectArray = $.findOne('#selectArray');
        const selectQuery = $.findOne('#selectQuery');
        const selectSpinner = $.findOne('#selectSpinner');
        const selectInfinite = $.findOne('#selectInfinite');
        const selectRender = $.findOne('#selectRender');
        const selectMinLength = $.findOne('#selectMinLength');
        const selectMaxSelections = $.findOne('#selectMaxSelections');
        const selectDisabled = $.findOne('#selectDisabled');
        const selectDisabledOptions = $.findOne('#selectDisabledOptions');
        const selectDiacratics = $.findOne('#selectDiacratics');
        const selectModal = $.findOne('#selectModal');

        const sampleData = {
            1: 'Option 1',
            2: 'Option 2',
            3: 'Option 3',
            4: 'Option 4'
        };

        const sampleDataArray = [
            {
                value: 1,
                text: 'Option 1',
                extra: 'Extra 1'
            },
            {
                value: 2,
                text: 'Option 2',
                extra: 'Extra 2'
            },
            {
                value: 3,
                text: 'Option 3',
                extra: 'Extra 3'
            },
            {
                value: 4,
                text: 'Option 4',
                extra: 'Extra 4'
            }
        ];

        const sampleDataDisabled = [
            {
                value: 1,
                text: 'Option 1',
                extra: 'Extra 1'
            },
            {
                value: 2,
                text: 'Option 2',
                extra: 'Extra 2',
                disabled: true
            },
            {
                value: 3,
                text: 'Option 3',
                extra: 'Extra 3'
            },
            {
                value: 4,
                text: 'Option 4',
                extra: 'Extra 4'
            }
        ];

        UI.SelectMenu.init(selectDefault);
        UI.SelectMenu.init(selectGroup);

        UI.SelectMenu.init(selectPlaceholder, {
            data: sampleData
        });

        UI.SelectMenu.init(selectArray, {
            data: sampleDataArray
        });

        UI.SelectMenu.init(selectQuery, {
            getResults: ({ term = null }) => {
                return new Promise(resolve => setTimeout(_ => {
                    let results;

                    results = new Array(20).fill().map((_, i) => {
                        const num = i + 1;
                        return {
                            value: num,
                            text: `Test ${num}`
                        };
                    });

                    if (term) {
                        results = results.filter(result =>
                            result.text.toLowerCase().indexOf(term.toLowerCase()) >= 0
                        );
                    }

                    resolve({ results });
                }, 250));
            }
        });

        UI.SelectMenu.init(selectSpinner, {
            lang: {
                loading: '<span class="spinner-border spinner-border-sm" role="status"></span>'
            },
            getResults: ({ term = null }) => {
                return new Promise(resolve => setTimeout(_ => {
                    let results;

                    results = new Array(20).fill().map((_, i) => {
                        const num = i + 1;
                        return {
                            value: num,
                            text: `Test ${num}`
                        };
                    });

                    if (term) {
                        results = results.filter(result =>
                            result.text.toLowerCase().indexOf(term.toLowerCase()) >= 0
                        );
                    }

                    resolve({ results });
                }, 250));
            }
        });

        UI.SelectMenu.init(selectInfinite, {
            getResults: ({ offset = 0, term = null }) => {
                return new Promise(resolve => setTimeout(_ => {
                    let results = new Array(1000).fill().map((_, i) => {
                        const num = i + 1;
                        return {
                            value: num,
                            text: `Test ${num}`
                        };
                    });

                    if (term) {
                        results = results.filter(result =>
                            result.text.toLowerCase().indexOf(term.toLowerCase()) >= 0
                        );
                    }

                    const showMore = results.length > offset + 20;

                    results = results.slice(offset, offset + 20);

                    resolve({ results, showMore });
                }, 250));
            }
        });

        UI.SelectMenu.init(selectRender, {
            data: sampleDataArray,
            renderResult: item => `${item.text} <small>${item.extra}</small>`,
            renderSelection: item => `${item.text} <small>${item.extra}</small>`
        });

        UI.SelectMenu.init(selectMinLength, {
            data: sampleData
        });

        UI.SelectMenu.init(selectMaxSelections, {
            data: sampleData
        });

        UI.SelectMenu.init(selectDisabled, {
            data: sampleData
        });

        UI.SelectMenu.init(selectDisabledOptions, {
            data: sampleDataDisabled
        });

        UI.SelectMenu.init(selectDiacratics, {
            data: {
                1: 'Optiön 1',
                2: 'Optiön 2',
                3: 'Optiön 3',
                4: 'Optiön 4'
            }
        });

        UI.SelectMenu.init(selectModal);
    </script>
</body>

</html>